<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CRICKETSTAN</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d0d0d;
      color: white;
      margin: 0;
      padding: 0;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
    }

    header {
      background: #111;
      padding: 20px;
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 2px;
      border-bottom: 2px solid #222;
    }

    .player-container {
      position: relative;
      width: 100%;
      padding-top: 56.25%;
      background: black;
      border: 2px solid gold;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
      margin: 20px 0 10px 0;
    }

    .player-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .marquee {
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      border: 2px solid gold;
      border-radius: 8px;
      padding: 10px 0;
      margin: 10px 20px;
      background: #1a1a1a;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
    }

    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 25s linear infinite;
      font-size: 16px;
      font-weight: bold;
      color: gold;
      letter-spacing: 1px;
    }

    @keyframes marquee {
      0% { transform: translate(0, 0); }
      100% { transform: translate(-100%, 0); }
    }

    .toggle-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 10px 20px 0 20px;
    }

    .tab-button {
      background: #1a1a1a;
      border: 2px solid gold;
      color: gold;
      font-weight: bold;
      padding: 10px;
      width: 150px; /* Set the same width for both buttons */
      text-align: center;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }

    .tab-button.active {
      background: gold;
      color: black;
    }

    .tab-content {
      margin: 20px 20px 30px 20px; /* Added top margin to create spacing */
    }

    section {
      display: none;
      margin-top: 10px;
    }

    section.active {
      display: block;
    }

    .channel-list {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .channel {
      background: #1a1a1a;
      border: 2px solid gold;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
      text-align: center;
      padding: 15px 10px;
      font-size: 16px;
      font-weight: bold;
      color: white;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .channel:hover {
      background: #333;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
    }

    .channel.active {
      background: gold;
      color: black;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
      transition: all 0.3s ease;
    }

    .scoreboard-container {
      border: 2px solid gold;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    footer {
      margin-top: auto;
      padding: 15px;
      font-size: 14px;
      background: #0a0f2c;
      box-shadow: 0 -2px 10px #00ccff33;
      text-align: center;
    }

    footer a {
      color: #FFD700;
      text-decoration: none;
      font-weight: bold;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<header>CRICKETSTAN</header>

<div class="player-container" id="playerContainer">
  <iframe id="playerIframe" src="https://user4587.ifrem.net/iframe/frame.php" allowfullscreen></iframe>
</div>

<div class="marquee">
  <span>IF VIDEO NOT PLAYING ON YOUR IP USE ANY VPN • WHEN YOU WANT TO UNMUTE THE STREAM SOMETIMES ITS REDIRECTED TO ANOTHER SITE JUST BACK THEN CLICK ON UNMUTE PLEASE • THANK YOU</span>
</div>

<div class="toggle-buttons">
  <button class="tab-button active" data-tab="channels">Channels</button>
  <button class="tab-button" data-tab="scoreboard">Scoreboard</button>
  <button class="tab-button" data-tab="chat">Live Chat</button>
</div>

<div class="tab-content">
  <section id="channels" class="active">
    <div class="channel-list" id="channelList"></div>
  </section>

  <section id="scoreboard">
    <div class="scoreboard-container">
      <embed 
        src="https://widget.jionews.com/jiotv-cricket/prod/v1/index.html?theme=dark&ismobile=true" 
        type="text/html" 
        frameborder="0" 
        scrolling="no" 
        allowfullscreen="true" 
        style="border: none; width: 100%; height: 600px;">
    </div>
  </section>

  <section id="chat">
  <div style="height: 600px; border: 2px solid gold; border-radius: 10px; overflow: hidden; box-shadow: 0 0 10px rgba(255,215,0,0.3);">
    <iframe
      src="https://tawk.to/chat/68126ec33aab2b190ea2acc0/4efc5ff1d1732a97ea50ec55e556793bf7ba0661"
      style="width:100%; height:100%; border:0;"
      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
      allowfullscreen
    ></iframe>
  </div>
</section>
<footer>
  Made by <a href="https://t.me/Manish6_6" target="_blank">@Manish6_6</a> &nbsp;|&nbsp; All rights reserved © 2025
</footer>

<script>
  async function loadChannels() {
    const response = await fetch('https://raw.githubusercontent.com/hey-lucky-stream/IPL-WEB-JASON/refs/heads/main/data.json');
    const data = await response.json();
    const list = document.getElementById('channelList');

    data.forEach((channel, index) => {
      const channelDiv = document.createElement('div');
      channelDiv.className = 'channel';
      channelDiv.textContent = channel.name;
      channelDiv.onclick = () => {
        const srcMatch = channel.iframe.match(/src=['"](.*?)['"]/);
        if (srcMatch && srcMatch[1]) {
          document.getElementById('playerIframe').src = srcMatch[1];
          reloadIframe();
        }
        document.querySelectorAll('.channel').forEach(c => c.classList.remove('active'));
        channelDiv.classList.add('active');
      };
      list.appendChild(channelDiv);

      if (index === 0) {
        const srcMatch = channel.iframe.match(/src=['"](.*?)['"]/);
        if (srcMatch && srcMatch[1]) {
          document.getElementById('playerIframe').src = srcMatch[1];
          reloadIframe();
        }
        channelDiv.classList.add('active');
      }
    });
  }

  function reloadIframe() {
    const iframe = document.getElementById('playerIframe');
    const currentSrc = iframe.src;
    iframe.src = '';
    iframe.src = currentSrc;
  }

  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      const tab = button.getAttribute('data-tab');
      document.querySelectorAll('.tab-content section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(tab).classList.add('active');

      // Hide chat when other tabs are selected
      if (tab !== 'chat') {
        document.getElementById('chat').classList.remove('active');
      }
    });
  });

  setTimeout(() => {
    let firstPopup = confirm("Join Our Telegram Channel CricketStan");
    if (firstPopup) {
      window.location.href = "https://t.me/+Eeg5IHyFCVUxZTY1";
    }
  }, 1000);

  loadChannels();
</script>

</body>
</html>
